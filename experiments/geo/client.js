var cubeCtx = document.getElementById("cube").getContext("2d");
var paraCtx = document.getElementById("para").getContext("2d");

var pyr3Ctx = document.getElementById("pyr3").getContext("2d");
var pyr4Ctx = document.getElementById("pyr4").getContext("2d");
var pyr6Ctx = document.getElementById("pyr6").getContext("2d");

var pym3Ctx = document.getElementById("pym3").getContext("2d");
var pym4Ctx = document.getElementById("pym4").getContext("2d");
var pym6Ctx = document.getElementById("pym6").getContext("2d");

function init(){
  cubeCtx.setVortex( 0.5, 0.5 );
  paraCtx.setVortex( 0.5, 0.5 );

  pyr3Ctx.setVortex( 0.5, 0.5 );
  pyr4Ctx.setVortex( 0.5, 0.5 );
  pyr6Ctx.setVortex( 0.5, 0.5 );

  pym3Ctx.setVortex( 0.5, 0.5 );
  pym4Ctx.setVortex( 0.5, 0.5 );
  pym6Ctx.setVortex( 0.5, 0.5 );

  requestAnimationFrame( render );
}

var cube = [
            ["#000", [-50, -50, -50], [-50, -50, 50], [-50, 50, 50], [-50, 50, -50], [-50, -50, -50]], 
            ["#000", [50, -50, -50], [50, -50, 50], [50, 50, 50], [50, 50, -50], [50, -50, -50]],
            ["#000", [-50, -50, -50], [50, -50, -50]],
            ["#000", [-50, -50, 50], [50, -50, 50]],
            ["#000", [-50, 50, -50], [50, 50, -50]],
            ["#000", [-50, 50, 50], [50, 50, 50]],
           ];

var para = [
            ["#000", [-70, -50, -30], [-70, -50, 30], [-70, 50, 30], [-70, 50, -30], [-70, -50, -30]], 
            ["#000", [70, -50, -30], [70, -50, 30], [70, 50, 30], [70, 50, -30], [70, -50, -30]],
            ["#000", [-70, -50, -30], [70, -50, -30]],
            ["#000", [-70, -50, 30], [70, -50, 30]],
            ["#000", [-70, 50, -30], [70, 50, -30]],
            ["#000", [-70, 50, 30], [70, 50, 30]],
           ];

var pyr3 = [
            ["#000", [-70, 50, 0], [40.5, 50, 57], [40.5, 50, -57], [-70, 50, 0]],
            ["#000", [-70, 50, 0], [0, -50, 0]],
            ["#000", [40.5, 50, 57], [0, -50, 0]],
            ["#000", [40.5, 50, -57], [0, -50, 0]]
           ];

var pyr4 = [
            ["#000", [-50, 50, -50], [50, 50, -50], [50, 50, 50], [-50, 50, 50], [-50, 50, -50]],
            ["#000", [-50, 50, -50], [0, -50, 0]],
            ["#000", [50, 50, -50], [0, -50, 0]],
            ["#000", [-50, 50, 50], [0, -50, 0]],
            ["#000", [50, 50, 50], [0, -50, 0]]
           ];

var pyr6 = [
            ["#000",  [-70, 50, 0], [-40.5, 50, 57], [40.5, 50, 57], [70, 50, 0], [40.5, 50, -57], [-40.5, 50, -57], [-70, 50, 0]],
            ["#000", [-70, 50, 0], [0, -50, 0]],
            ["#000", [40.5, 50, 57], [0, -50, 0]],
            ["#000", [40.5, 50, -57], [0, -50, 0]],
            ["#000", [70, 50, 0], [0, -50, 0]],
            ["#000", [-40.5, 50, 57], [0, -50, 0]],
            ["#000", [-40.5, 50, -57], [0, -50, 0]]
           ];

var pym3 = [
            ["#000", [-70, 50, 0], [40.5, 50, 57], [40.5, 50, -57], [-70, 50, 0]],
            ["#000", [-70, -80, 0], [40.5, -80, 57], [40.5, -80, -57], [-70, -80, 0]],
            ["#000", [-70, 50, 0], [-70, -80, 0]],
            ["#000", [40.5, 50, 57], [40.5, -80, 57]],
            ["#000", [40.5, 50, -57], [40.5, -80, -57]]
           ];

var pym4 = [
            ["#000", [-50, 50, -50], [50, 50, -50], [50, 50, 50], [-50, 50, 50], [-50, 50, -50]],
            ["#000", [-50, -80, -50], [50, -80, -50], [50, -80, 50], [-50, -80, 50], [-50, -80, -50]],
            ["#000", [-50, 50, -50], [-50, -80, -50]],
            ["#000", [50, 50, -50], [50, -80, -50]],
            ["#000", [-50, 50, 50], [-50, -80, 50]],
            ["#000", [50, 50, 50], [50, -80, 50]]
           ];

var pym6 = [
            ["#000",  [-70, 50, 0], [-40.5, 50, 57], [40.5, 50, 57], [70, 50, 0], [40.5, 50, -57], [-40.5, 50, -57], [-70, 50, 0]],
            ["#000",  [-70, -80, 0], [-40.5, -80, 57], [40.5, -80, 57], [70, -80, 0], [40.5, -80, -57], [-40.5, -80, -57], [-70, -80, 0]],
            ["#000", [-70, 50, 0], [-70, -80, 0]],
            ["#000", [40.5, 50, 57], [40.5, -80, 57]],
            ["#000", [40.5, 50, -57], [40.5, -80, -57]],
            ["#000", [70, 50, 0], [70, -80, 0]],
            ["#000", [-40.5, 50, 57], [-40.5, -80, 57]],
            ["#000", [-40.5, 50, -57], [-40.5, -80, -57]]
           ];

var angle = 0;
function render(){
  cubeCtx.clear();
  paraCtx.clear();

  pyr3Ctx.clear();
  pyr4Ctx.clear();
  pyr6Ctx.clear();

  pym3Ctx.clear();
  pym4Ctx.clear();
  pym6Ctx.clear();

  angle += 0.01;
  if ( angle >= Math.PI )
    angle = -Math.PI;
    
  cubeCtx.draw3DModel( cube, -1000 * Math.cos( angle ), -305, -1000 * Math.sin( angle ), angle, 0.3 );
  paraCtx.draw3DModel( para, -1000 * Math.cos( angle ), -305, -1000 * Math.sin( angle ), angle, 0.3 );

  pyr3Ctx.draw3DModel( pyr3, -1000 * Math.cos( angle ), -305, -1000 * Math.sin( angle ), angle, 0.3 );
  pyr4Ctx.draw3DModel( pyr4, -1000 * Math.cos( angle ), -305, -1000 * Math.sin( angle ), angle, 0.3 );
  pyr6Ctx.draw3DModel( pyr6, -1000 * Math.cos( angle ), -305, -1000 * Math.sin( angle ), angle, 0.3 );

  pym3Ctx.draw3DModel( pym3, -1000 * Math.cos( angle ), -320, -1000 * Math.sin( angle ), angle, 0.3 );
  pym4Ctx.draw3DModel( pym4, -1000 * Math.cos( angle ), -320, -1000 * Math.sin( angle ), angle, 0.3 );
  pym6Ctx.draw3DModel( pym6, -1000 * Math.cos( angle ), -320, -1000 * Math.sin( angle ), angle, 0.3 );

  requestAnimationFrame(render);
}
